{"ast":null,"code":"import _slicedToArray from \"/Users/phanuwitkittirong/Downloads/react-redux-application-forked/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/phanuwitkittirong/Downloads/react-redux-application-forked/src/pages/PostsPage.js\";\nimport React, { useEffect, useState } from 'react';\nimport { connect, useSelector } from 'react-redux';\nimport { fetchPosts } from '../actions/postsActions';\nimport { Post } from '../components/Post';\nvar PostsPage = function PostsPage(_ref) {\n  var dispatch = _ref.dispatch;\n  var getPosts = useSelector(function (state) {\n    return state.posts;\n  });\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    posts = _useState2[0],\n    setPost = _useState2[1];\n  useEffect(function () {\n    dispatch(fetchPosts());\n  }, [dispatch]);\n  useEffect(function () {\n    console.log('getPosts', getPosts.posts);\n    if (getPosts.posts) {\n      setPost(getPosts.posts);\n    }\n  }, [getPosts]);\n  var renderPosts = function renderPosts() {\n    var _getPosts$posts;\n    if (getPosts.loading) return /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 34\n      }\n    }, \"Loading posts...\");\n    if (getPosts.hasErrors) return /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 36\n      }\n    }, \"Unable to display posts.\");\n    return (_getPosts$posts = getPosts.posts) === null || _getPosts$posts === void 0 ? void 0 : _getPosts$posts.map(function (post) {\n      return /*#__PURE__*/React.createElement(Post, {\n        key: post.id,\n        post: post,\n        excerpt: true,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 7\n        }\n      });\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"section\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, \"Posts\"), renderPosts());\n};\nexport default connect()(PostsPage);","map":{"version":3,"names":["React","useEffect","useState","connect","useSelector","fetchPosts","Post","PostsPage","dispatch","getPosts","state","posts","setPost","console","log","renderPosts","loading","hasErrors","map","post","id"],"sources":["/Users/phanuwitkittirong/Downloads/react-redux-application-forked/src/pages/PostsPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { connect, useSelector } from 'react-redux'\n\nimport { fetchPosts } from '../actions/postsActions'\n\nimport { Post } from '../components/Post'\n\nconst PostsPage = ({ dispatch }) => {\n  const getPosts = useSelector((state) => state.posts)\n\n  const [posts, setPost] = useState([])\n\n  useEffect(() => {\n    dispatch(fetchPosts())\n  }, [dispatch])\n\n  useEffect(() => {\n    console.log('getPosts', getPosts.posts)\n    if (getPosts.posts) {\n      setPost(getPosts.posts)\n    }\n  }, [getPosts])\n\n  const renderPosts = () => {\n    if (getPosts.loading) return <p>Loading posts...</p>\n    if (getPosts.hasErrors) return <p>Unable to display posts.</p>\n\n    return getPosts.posts?.map((post) => (\n      <Post key={post.id} post={post} excerpt />\n    ))\n  }\n\n  return (\n    <section>\n      <h1>Posts</h1>\n      {renderPosts()}\n      {/* {getPosts.posts?.map((post) => (\n        <Post key={post.id} post={post} excerpt />\n      ))} */}\n    </section>\n  )\n}\n\nexport default connect()(PostsPage)\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,OAAO,EAAEC,WAAW,QAAQ,aAAa;AAElD,SAASC,UAAU,QAAQ,yBAAyB;AAEpD,SAASC,IAAI,QAAQ,oBAAoB;AAEzC,IAAMC,SAAS,GAAG,SAAZA,SAAS,OAAqB;EAAA,IAAfC,QAAQ,QAARA,QAAQ;EAC3B,IAAMC,QAAQ,GAAGL,WAAW,CAAC,UAACM,KAAK;IAAA,OAAKA,KAAK,CAACC,KAAK;EAAA,EAAC;EAEpD,gBAAyBT,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA9BS,KAAK;IAAEC,OAAO;EAErBX,SAAS,CAAC,YAAM;IACdO,QAAQ,CAACH,UAAU,EAAE,CAAC;EACxB,CAAC,EAAE,CAACG,QAAQ,CAAC,CAAC;EAEdP,SAAS,CAAC,YAAM;IACdY,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEL,QAAQ,CAACE,KAAK,CAAC;IACvC,IAAIF,QAAQ,CAACE,KAAK,EAAE;MAClBC,OAAO,CAACH,QAAQ,CAACE,KAAK,CAAC;IACzB;EACF,CAAC,EAAE,CAACF,QAAQ,CAAC,CAAC;EAEd,IAAMM,WAAW,GAAG,SAAdA,WAAW,GAAS;IAAA;IACxB,IAAIN,QAAQ,CAACO,OAAO,EAAE,oBAAO;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,sBAAuB;IACpD,IAAIP,QAAQ,CAACQ,SAAS,EAAE,oBAAO;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,8BAA+B;IAE9D,0BAAOR,QAAQ,CAACE,KAAK,oDAAd,gBAAgBO,GAAG,CAAC,UAACC,IAAI;MAAA,oBAC9B,oBAAC,IAAI;QAAC,GAAG,EAAEA,IAAI,CAACC,EAAG;QAAC,IAAI,EAAED,IAAK;QAAC,OAAO;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAAG;IAAA,CAC3C,CAAC;EACJ,CAAC;EAED,oBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,WAAc,EACbJ,WAAW,EAAE,CAIN;AAEd,CAAC;AAED,eAAeZ,OAAO,EAAE,CAACI,SAAS,CAAC"},"metadata":{},"sourceType":"module"}