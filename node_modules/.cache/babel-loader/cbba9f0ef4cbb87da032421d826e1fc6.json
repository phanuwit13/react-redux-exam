{"ast":null,"code":"var _this = this,\n  _jsxFileName = \"/Users/phanuwitkittirong/Downloads/react-redux-application-forked/src/pages/SinglePostPage.js\";\nimport React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchPost } from '../actions/postActions';\nimport { fetchComments } from '../actions/commentsActions';\nimport { Post } from '../components/Post';\nimport { Comment } from '../components/Comment';\nvar SinglePostPage = function SinglePostPage(_ref) {\n  var match = _ref.match,\n    dispatch = _ref.dispatch,\n    post = _ref.post,\n    comments = _ref.comments,\n    hasErrors = _ref.hasErrors,\n    loading = _ref.loading;\n  useEffect(function () {\n    var id = match.params.id;\n    dispatch(fetchComments(id));\n    dispatch(fetchPost(id));\n  }, [dispatch, match]);\n  var renderPost = function renderPost() {\n    if (loading.post) return /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 30\n      }\n    }, \"Loading post...\");\n    if (hasErrors.post) return /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 32\n      }\n    }, \"Unable to display post.\");\n    return /*#__PURE__*/React.createElement(Post, {\n      post: post,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 12\n      }\n    });\n  };\n  var renderComments = function renderComments() {\n    if (loading.comments) return /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 34\n      }\n    }, \"Loading comments...\");\n    if (hasErrors.comments) return /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 36\n      }\n    }, \"Unable to display comments.\");\n    return comments.map(function (comment) {\n      return /*#__PURE__*/React.createElement(Comment, {\n        key: comment.id,\n        comment: comment,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 7\n        }\n      });\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"section\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, renderPost(), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, \"Comments\"), renderComments());\n};\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    post: state.post.post,\n    comments: state.comments.comments,\n    loading: {\n      post: state.post.loading,\n      comments: state.comments.loading\n    },\n    hasErrors: {\n      post: state.post.hasErrors,\n      comments: state.comments.hasErrors\n    }\n  };\n};\nexport default connect(mapStateToProps)(SinglePostPage);","map":{"version":3,"names":["React","useEffect","connect","fetchPost","fetchComments","Post","Comment","SinglePostPage","match","dispatch","post","comments","hasErrors","loading","id","params","renderPost","renderComments","map","comment","mapStateToProps","state"],"sources":["/Users/phanuwitkittirong/Downloads/react-redux-application-forked/src/pages/SinglePostPage.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport { fetchPost } from '../actions/postActions'\nimport { fetchComments } from '../actions/commentsActions'\n\nimport { Post } from '../components/Post'\nimport { Comment } from '../components/Comment'\n\nconst SinglePostPage = ({\n  match,\n  dispatch,\n  post,\n  comments,\n  hasErrors,\n  loading,\n}) => {\n  useEffect(() => {\n    const { id } = match.params\n\n    dispatch(fetchComments(id))\n    dispatch(fetchPost(id))\n  }, [dispatch, match])\n\n  const renderPost = () => {\n    if (loading.post) return <p>Loading post...</p>\n    if (hasErrors.post) return <p>Unable to display post.</p>\n\n    return <Post post={post} />\n  }\n\n  const renderComments = () => {\n    if (loading.comments) return <p>Loading comments...</p>\n    if (hasErrors.comments) return <p>Unable to display comments.</p>\n\n    return comments.map(comment => (\n      <Comment key={comment.id} comment={comment} />\n    ))\n  }\n\n  return (\n    <section>\n      {renderPost()}\n      <h2>Comments</h2>\n      {renderComments()}\n    </section>\n  )\n}\n\nconst mapStateToProps = state => ({\n  post: state.post.post,\n  comments: state.comments.comments,\n  loading: { post: state.post.loading, comments: state.comments.loading },\n  hasErrors: { post: state.post.hasErrors, comments: state.comments.hasErrors },\n})\n\nexport default connect(mapStateToProps)(SinglePostPage)\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,OAAO,QAAQ,aAAa;AAErC,SAASC,SAAS,QAAQ,wBAAwB;AAClD,SAASC,aAAa,QAAQ,4BAA4B;AAE1D,SAASC,IAAI,QAAQ,oBAAoB;AACzC,SAASC,OAAO,QAAQ,uBAAuB;AAE/C,IAAMC,cAAc,GAAG,SAAjBA,cAAc,OAOd;EAAA,IANJC,KAAK,QAALA,KAAK;IACLC,QAAQ,QAARA,QAAQ;IACRC,IAAI,QAAJA,IAAI;IACJC,QAAQ,QAARA,QAAQ;IACRC,SAAS,QAATA,SAAS;IACTC,OAAO,QAAPA,OAAO;EAEPZ,SAAS,CAAC,YAAM;IACd,IAAQa,EAAE,GAAKN,KAAK,CAACO,MAAM,CAAnBD,EAAE;IAEVL,QAAQ,CAACL,aAAa,CAACU,EAAE,CAAC,CAAC;IAC3BL,QAAQ,CAACN,SAAS,CAACW,EAAE,CAAC,CAAC;EACzB,CAAC,EAAE,CAACL,QAAQ,EAAED,KAAK,CAAC,CAAC;EAErB,IAAMQ,UAAU,GAAG,SAAbA,UAAU,GAAS;IACvB,IAAIH,OAAO,CAACH,IAAI,EAAE,oBAAO;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,qBAAsB;IAC/C,IAAIE,SAAS,CAACF,IAAI,EAAE,oBAAO;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,6BAA8B;IAEzD,oBAAO,oBAAC,IAAI;MAAC,IAAI,EAAEA,IAAK;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAG;EAC7B,CAAC;EAED,IAAMO,cAAc,GAAG,SAAjBA,cAAc,GAAS;IAC3B,IAAIJ,OAAO,CAACF,QAAQ,EAAE,oBAAO;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,yBAA0B;IACvD,IAAIC,SAAS,CAACD,QAAQ,EAAE,oBAAO;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,iCAAkC;IAEjE,OAAOA,QAAQ,CAACO,GAAG,CAAC,UAAAC,OAAO;MAAA,oBACzB,oBAAC,OAAO;QAAC,GAAG,EAAEA,OAAO,CAACL,EAAG;QAAC,OAAO,EAAEK,OAAQ;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAAG;IAAA,CAC/C,CAAC;EACJ,CAAC;EAED,oBACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACGH,UAAU,EAAE,eACb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,cAAiB,EAChBC,cAAc,EAAE,CACT;AAEd,CAAC;AAED,IAAMG,eAAe,GAAG,SAAlBA,eAAe,CAAGC,KAAK;EAAA,OAAK;IAChCX,IAAI,EAAEW,KAAK,CAACX,IAAI,CAACA,IAAI;IACrBC,QAAQ,EAAEU,KAAK,CAACV,QAAQ,CAACA,QAAQ;IACjCE,OAAO,EAAE;MAAEH,IAAI,EAAEW,KAAK,CAACX,IAAI,CAACG,OAAO;MAAEF,QAAQ,EAAEU,KAAK,CAACV,QAAQ,CAACE;IAAQ,CAAC;IACvED,SAAS,EAAE;MAAEF,IAAI,EAAEW,KAAK,CAACX,IAAI,CAACE,SAAS;MAAED,QAAQ,EAAEU,KAAK,CAACV,QAAQ,CAACC;IAAU;EAC9E,CAAC;AAAA,CAAC;AAEF,eAAeV,OAAO,CAACkB,eAAe,CAAC,CAACb,cAAc,CAAC"},"metadata":{},"sourceType":"module"}